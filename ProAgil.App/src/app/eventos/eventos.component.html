<div>
  <h2>Eventos</h2>
  <div class="form-inline">
    <div class="form-group mb-2">
      <label class="mr-2" for="buscar">Filtro:</label>
      <input
        type="text"
        class="form-control-sm mr-2"
        id="buscar"
        placeholder="buscar"
        [(ngModel)]="filtroLista"
      />
    </div>
  </div>
  <table class="table table-striped">
    <thead class="thead-dark">
      <tr>
        <td>
          <button class="btn btn-sm btn-primary" (click)="alterarImagem()">
            <i class="fa {{mostrarImagem ? ' fa-eye' : ' fa-eye-slash'}}"></i>
          </button>
        </td>
        <td>#</td>
        <td>Tema</td>
        <td>Local</td>
        <td>Data</td>
        <td>Qtd Pessoas</td>
        <td>Lote</td>
        <td>Opções</td>
      </tr>
    </thead>
    <tbody *ngIf="eventosFiltrados && eventos.length">
      <tr *ngFor="let evento of eventosFiltrados">
        <td>
          <img
            src="http://localhost:5000/img/{{evento.imageUrl}}"
            [style.width.px]="imagemLargura"
            [style.margin.px]="imagemMargem"
            [style.borderRadius.px]="2"
            *ngIf="mostrarImagem"
          />
        </td>
        <td>{{evento.id}}</td>
        <td>{{evento.tema}}</td>
        <td>{{evento.local}}</td>
        <td>{{evento.dataEvento | DateTimeFormatPipe}}</td>
        <td>{{evento.qtdPessoas}}</td>
        <td>
          <span *ngIf="!evento.lotes.length">
            Não informado
          </span>
          <span *ngIf="evento.lotes.length">
            {{evento.lotes[0].nome}}
          </span>
        </td>
        <td>
          <div class="btn-group">
            <button
              class="btn btn-xs btn-success"
              tooltip="Editar"
              (click)="openModal(template)"
            >
              <i class="fa fa-edit"></i>
            </button>
            <button class="btn btn-xs btn-danger" tooltip="Excluir">
              <i class="fa fa-trash"></i>
            </button>
          </div>

        </td>
      </tr>
    </tbody>
    <tfoot *ngIf="!eventos.length">
      <tr>
        <td colspan="7" class="text-center">
          Nenhum evento encontrado!
        </td>
      </tr>
    </tfoot>
  </table>

  <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Modal</h4>
      <button
        type="button"
        class="close pull-right"
        aria-label="Close"
        (click)="modalRef.hide()"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      This is a modal.
    </div>
  </ng-template>

</div>
